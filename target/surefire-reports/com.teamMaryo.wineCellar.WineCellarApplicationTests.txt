-------------------------------------------------------------------------------
Test set: com.teamMaryo.wineCellar.WineCellarApplicationTests
-------------------------------------------------------------------------------
Tests run: 1, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 1.766 s <<< FAILURE! - in com.teamMaryo.wineCellar.WineCellarApplicationTests
contextLoads  Time elapsed: 0.002 s  <<< ERROR!
java.lang.IllegalStateException: Failed to load ApplicationContext
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: 
Error creating bean with name 'securityConfig': Unsatisfied dependency expressed through field 'userService'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userServiceImpl': Unsatisfied dependency expressed through field 'repository'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userRepository': Unsatisfied dependency expressed through method 'setDialect' parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jdbcDialect' defined in class path resource [org/springframework/boot/autoconfigure/data/jdbc/JdbcRepositoriesAutoConfiguration$SpringBootJdbcConfiguration.class]: Unsatisfied dependency expressed through method 'jdbcDialect' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'scriptDataSourceInitializer' defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceInitializationConfiguration$SharedCredentialsDataSourceInitializationConfiguration.class]: Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #1 of class path resource [database/schema.sql]: DROP TABLE IF EXISTS USERS; nested exception is org.h2.jdbc.JdbcSQLSyntaxErrorException: Imposible eliminar "USERS" debido a que "FK_TYPE_USER, FK_ORIGIN_USER, FK_WINE_USER, FK_PURCHASE_USER" depende de él.
Cannot drop "USERS" because "FK_TYPE_USER, FK_ORIGIN_USER, FK_WINE_USER, FK_PURCHASE_USER" depends on it; SQL statement:
DROP TABLE IF EXISTS USERS [90107-200]
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: 
Error creating bean with name 'userServiceImpl': Unsatisfied dependency expressed through field 'repository'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userRepository': Unsatisfied dependency expressed through method 'setDialect' parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jdbcDialect' defined in class path resource [org/springframework/boot/autoconfigure/data/jdbc/JdbcRepositoriesAutoConfiguration$SpringBootJdbcConfiguration.class]: Unsatisfied dependency expressed through method 'jdbcDialect' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'scriptDataSourceInitializer' defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceInitializationConfiguration$SharedCredentialsDataSourceInitializationConfiguration.class]: Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #1 of class path resource [database/schema.sql]: DROP TABLE IF EXISTS USERS; nested exception is org.h2.jdbc.JdbcSQLSyntaxErrorException: Imposible eliminar "USERS" debido a que "FK_TYPE_USER, FK_ORIGIN_USER, FK_WINE_USER, FK_PURCHASE_USER" depende de él.
Cannot drop "USERS" because "FK_TYPE_USER, FK_ORIGIN_USER, FK_WINE_USER, FK_PURCHASE_USER" depends on it; SQL statement:
DROP TABLE IF EXISTS USERS [90107-200]
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: 
Error creating bean with name 'userRepository': Unsatisfied dependency expressed through method 'setDialect' parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jdbcDialect' defined in class path resource [org/springframework/boot/autoconfigure/data/jdbc/JdbcRepositoriesAutoConfiguration$SpringBootJdbcConfiguration.class]: Unsatisfied dependency expressed through method 'jdbcDialect' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'scriptDataSourceInitializer' defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceInitializationConfiguration$SharedCredentialsDataSourceInitializationConfiguration.class]: Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #1 of class path resource [database/schema.sql]: DROP TABLE IF EXISTS USERS; nested exception is org.h2.jdbc.JdbcSQLSyntaxErrorException: Imposible eliminar "USERS" debido a que "FK_TYPE_USER, FK_ORIGIN_USER, FK_WINE_USER, FK_PURCHASE_USER" depende de él.
Cannot drop "USERS" because "FK_TYPE_USER, FK_ORIGIN_USER, FK_WINE_USER, FK_PURCHASE_USER" depends on it; SQL statement:
DROP TABLE IF EXISTS USERS [90107-200]
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: 
Error creating bean with name 'jdbcDialect' defined in class path resource [org/springframework/boot/autoconfigure/data/jdbc/JdbcRepositoriesAutoConfiguration$SpringBootJdbcConfiguration.class]: Unsatisfied dependency expressed through method 'jdbcDialect' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'scriptDataSourceInitializer' defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceInitializationConfiguration$SharedCredentialsDataSourceInitializationConfiguration.class]: Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #1 of class path resource [database/schema.sql]: DROP TABLE IF EXISTS USERS; nested exception is org.h2.jdbc.JdbcSQLSyntaxErrorException: Imposible eliminar "USERS" debido a que "FK_TYPE_USER, FK_ORIGIN_USER, FK_WINE_USER, FK_PURCHASE_USER" depende de él.
Cannot drop "USERS" because "FK_TYPE_USER, FK_ORIGIN_USER, FK_WINE_USER, FK_PURCHASE_USER" depends on it; SQL statement:
DROP TABLE IF EXISTS USERS [90107-200]
Caused by: org.springframework.beans.factory.BeanCreationException: 
Error creating bean with name 'scriptDataSourceInitializer' defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceInitializationConfiguration$SharedCredentialsDataSourceInitializationConfiguration.class]: Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #1 of class path resource [database/schema.sql]: DROP TABLE IF EXISTS USERS; nested exception is org.h2.jdbc.JdbcSQLSyntaxErrorException: Imposible eliminar "USERS" debido a que "FK_TYPE_USER, FK_ORIGIN_USER, FK_WINE_USER, FK_PURCHASE_USER" depende de él.
Cannot drop "USERS" because "FK_TYPE_USER, FK_ORIGIN_USER, FK_WINE_USER, FK_PURCHASE_USER" depends on it; SQL statement:
DROP TABLE IF EXISTS USERS [90107-200]
Caused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: 
Failed to execute SQL script statement #1 of class path resource [database/schema.sql]: DROP TABLE IF EXISTS USERS; nested exception is org.h2.jdbc.JdbcSQLSyntaxErrorException: Imposible eliminar "USERS" debido a que "FK_TYPE_USER, FK_ORIGIN_USER, FK_WINE_USER, FK_PURCHASE_USER" depende de él.
Cannot drop "USERS" because "FK_TYPE_USER, FK_ORIGIN_USER, FK_WINE_USER, FK_PURCHASE_USER" depends on it; SQL statement:
DROP TABLE IF EXISTS USERS [90107-200]
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: 
Imposible eliminar "USERS" debido a que "FK_TYPE_USER, FK_ORIGIN_USER, FK_WINE_USER, FK_PURCHASE_USER" depende de él.
Cannot drop "USERS" because "FK_TYPE_USER, FK_ORIGIN_USER, FK_WINE_USER, FK_PURCHASE_USER" depends on it; SQL statement:
DROP TABLE IF EXISTS USERS [90107-200]

